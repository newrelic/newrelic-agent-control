# Cluster and License info is set with "--set" in the e2e-spec file
toolkitImage:
  tag: failIfNotReplaced
agentControlDeployment:
  chartValues:
    image:
      tag: failIfNotReplaced
    subAgentsNamespace: "newrelic-agents"
    systemIdentity:
      create: false
      secretName: "sys-identity"
    config:
      authSecret:
        secretName: "sys-identity"
        secretKeyName: "private_key"
      fleet_control:
        enabled: true
        # Fleet with name 'ac-e2e-apm'.
        fleet_id: NjQyNTg2NXxOR0VQfEZMRUVUfDAxOWI0NTkxLTYyYmEtN2RiZC04OGY5LWQ1MGMzZDU2YTM3YQ
      log:
        insecure_fine_grained_level: newrelic_agent_control=debug,opamp_client=trace,off
      agents:
        operator:
          agent_type: newrelic/com.newrelic.k8s_agent_operator:0.1.0
        # One agent per language
        java-agent:
          agent_type: newrelic/com.newrelic.apm_java:0.1.0
        python-agent:
          agent_type: newrelic/com.newrelic.apm_python:0.1.0
        node-agent:
          agent_type: newrelic/com.newrelic.apm_node:0.1.0
        ruby-agent:
          agent_type: newrelic/com.newrelic.apm_ruby:0.1.0
        dotnet-agent:
          agent_type: newrelic/com.newrelic.apm_dotnet:0.1.0
    agentsConfig:
      operator:
        chart_version: "*"
      # One agent per language
      java-agent:
        podLabelSelector:
          matchExpressions:
            - key: "app"
              operator: "In"
              values: [ "javaapp" ]
        containerSelector:
          envSelector:
            matchExpressions:
              - key: NRI
                operator: Exists
      python-agent:
        podLabelSelector:
          matchExpressions:
            - key: "app"
              operator: "In"
              values: [ "pythonapp" ]
      node-agent:
        podLabelSelector:
          matchExpressions:
            - key: "app"
              operator: "In"
              values: [ "nodeapp" ]
      ruby-agent:
        podLabelSelector:
          matchExpressions:
            - key: "app"
              operator: "In"
              values: [ "rubyapp" ]
      dotnet-agent:
        podLabelSelector:
          matchExpressions:
            - key: "app"
              operator: "In"
              values: [ "dotneteapp" ]
