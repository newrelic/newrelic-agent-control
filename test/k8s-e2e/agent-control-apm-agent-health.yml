# Cluster and License info is set with "--set" in the e2e-spec file

agent-control-deployment:
  config:
    fleet_control:
      enabled: false
    agentControl:
      content:
        log:
          level: trace
    subAgents:
      operator:
        type: newrelic/com.newrelic.k8s_agent_operator:0.1.0
        content:
          chart_version: "*"
      # One agent per language
      java-agent:
        type: newrelic/com.newrelic.apm_java:0.1.0
        content:
          podLabelSelector:
            matchExpressions:
              - key: "app"
                operator: "In"
                values: [ "javaapp" ]
          env:
            - name: NEW_RELIC_AGENT_CONTROL_ENABLED
              value: "true"
      python-agent:
        type: newrelic/com.newrelic.apm_python:0.1.0
        content:
          podLabelSelector:
            matchExpressions:
              - key: "app"
                operator: "In"
                values: [ "pythonapp" ]
          env:
            - name: NEW_RELIC_AGENT_CONTROL_ENABLED
              value: "true"
      node-agent:
        type: newrelic/com.newrelic.apm_node:0.1.0
        content:
          podLabelSelector:
            matchExpressions:
              - key: "app"
                operator: "In"
                values: [ "nodeapp" ]
          env:
            - name: NEW_RELIC_AGENT_CONTROL_ENABLED
              value: "true"
      ruby-agent:
        type: newrelic/com.newrelic.apm_ruby:0.1.0
        content:
          podLabelSelector:
            matchExpressions:
              - key: "app"
                operator: "In"
                values: [ "rubyapp" ]
          env:
            - name: NEW_RELIC_AGENT_CONTROL_ENABLED
              value: "true"
      dotnet-agent:
        type: newrelic/com.newrelic.apm_dotnet:0.1.0
        content:
          podLabelSelector:
            matchExpressions:
              - key: "app"
                operator: "In"
                values: [ "dotneteapp" ]
          env:
            - name: NEW_RELIC_AGENT_CONTROL_ENABLED
              value: "true"
