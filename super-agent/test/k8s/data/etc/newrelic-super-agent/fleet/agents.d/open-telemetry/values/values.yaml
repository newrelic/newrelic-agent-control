config_file:
  receivers:
    prometheus:
      config:
        scrape_configs:
          - job_name: otel-collector-self-metrics
            scrape_interval: 10s
            static_configs:
              - targets: [localhost:8888]

  extensions:
    health_check: {}
    memory_ballast: {}

  processors:
    batch: {}
    memory_limiter: null
    attributes/cluster_name:
      actions:
        - key: cluster_name # This attribute is used internally and do not follow any convention
          value: super-agent-dev
          action: insert

  service:
    telemetry:
      metrics:
        address: 0.0.0.0:8888
      logs:
        level: "info"
    extensions:
      - health_check
      - memory_ballast
    pipelines:
      metrics:
        receivers:
          - prometheus
        processors:
          - memory_limiter
          - batch
          - attributes/cluster_name
