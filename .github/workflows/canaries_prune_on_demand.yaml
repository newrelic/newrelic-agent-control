name: 💥 🐤 Prune Canaries

on:
  workflow_dispatch:
    inputs:
      tag:
        description: 'Version of the super-agent canaries to prune'
        required: true

permissions:
  id-token: write
  contents: read

jobs:
  canaries:
    uses: ./.github/workflows/component_canaries_prune.yaml
    with:
      TAG: ${{ inputs.tag }}
    secrets:
      AWS_ROLE_ARN: ${{ secrets.TMP_AWS_ROLE_ARN }}
      AWS_VPC_SUBNET: ${{ secrets.TMP_AWS_VPC_SUBNET }}
