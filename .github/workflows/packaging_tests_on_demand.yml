name: . 🚀 🐧 🦺 Otel packaging tests on demand

on:
  push:
    # workflow_dispatch:
    # inputs:
    #   unique_tag:
    #     description: 'Unique tag or prefix'
    #     required: true
    #   branch:
    #     description: 'Branch to test'
    #     required: false
    #     type: string
    #     default: "main"

jobs:
  required:
    runs-on: ubuntu-latest
    name: ubuntu
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: true
  packaging:
    uses: ./.github/workflows/component_provision_packaging.yml
    with:
      TAG_OR_UNIQUE_NAME: "0.0.3"
    secrets:
      AWS_ROLE_ARN: ${{ secrets.TMP_AWS_ROLE_ARN }}
      AWS_VPC_SUBNET: ${{ secrets.TMP_AWS_VPC_SUBNET }}